"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),fs=require("fs"),packager=require("./packager"),Write=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".npr";_classCallCheck(this,a),this.modifier=b,this.data=""}return _createClass(a,[{key:"start",value:function(){var a=this;packager().then(function(b){a.write(b)})}},{key:"organizeFile",value:function(a){return'{\n  "name": "'+process.cwd().split("/").pop()+'",\n  "version": "0.0.1",\n  "dependencies":{\n'+a+"  }\n}"}},{key:"continueWrite",value:function(a,b){fs.writeFile(a,b,function(b){return b?console.log(b):(console.log(a+" was saved!"),void process.exit())})}},{key:"write",value:function(a){var b=this,c=this.organizeFile(a),d="package"+this.modifier+".json";fs.existsSync(d)?(console.log("File already exists, overwrite it? Type Y to continue"),process.stdin.on("data",function(a){"Y\n"===a.toString()?b.continueWrite(d,c):(console.log("Exiting..."),process.exit())})):this.continueWrite(d,c)}}]),a}();module.exports=Write;